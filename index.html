<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Test chùtkòscë pisaniô tekstów</title>
<style>
.table
{
	border: 1px solid black;
	border-collapse:collapse;
	padding-left:5px;
	padding-right:5px;
}
tr.even
{
	background-color: #EEEEEE;
}

tr.odd 
{
	background-color: #FFFFFF;
}
th
{
	background-color: #DDDDDD;
}
.content
{
	padding-left:5px;
	padding-right:5px;
}
</style>
<script src="advajax.js" language="JavaScript" type="text/javascript"></script>
<script language="JavaScript">
var isStarted = false;
var testTexts = new Array(
	"Lëdze mają wiele do gôdczi. Rozpowiôdają ò tim a ò nym. Czasã gôdają rozëmno, a czasã tak glëpio, że jaż czlowiekowi niechc sã tegò slëchac. Lëdze mùszą gôdac. Òsoblëwie bialczi. Niechtërné bez gôdczi, jak to so rzecze, bez pludrów ni mòglë bë zëc. Tak to je na tim swiece.",
	"W Pëlckòwie żëla jednô bialka. Zwala sã Tekla. Lëdze gôdalë ò ni Wòlnô Europa. Z ji gãbë wëchôdëlë slowa jak z maszingiwerë. Dërch gôda ë gôda. Żebë jesz sedza doma! Nié, ona mùsza chòdzëc pò wsë ë rozpòwiadac swòje pludrë. Ò tim, że Julis mô kòchónkã. Zyta je ju na òstatnëch szpérach ë to z piątim dzeckã. Ksądz probòszcz sprowadzyl so na plebaniã nową kùchôrkã i nie je wiedzec co z tegò bdze lós. Pësk sã ji nie zamëkôl. Jednégò dnia Tekla zachòrza. Nick ją nie bòla, le bëla takô zmarachòwónô jakbë trzë dni gnój wërzuca. Do dochtóra nie szla, bò bëla dbë, że nen felczer – jak gò zwa – ë tak ji nick nie pòmóże. Wierzëla za to w różnëch znachòrów. Òsoblëwie taczëch jak nen Kaszpirowsczi, co wëstãpòwôl w telewizje. Zdarzëlo sã prawie, że jeden taczi bioenergòterapeuta przëjachôl do Miasta lékarzëc lëdzy. Tekla czëjąc to, nagôda swòjégò chlopa, żebë ją jak nôrôchli, do niegò zawózl. Chlop chcąc niechcąc pojachôl z nią autã.",
	"Kòl znachòra bëlo baro wiele lëdzy. Teklë niechc sã stojec w ògromisti kòléjce, zaczãla wiãc jamrowac i plakac jakô òna je chòrô. Lëdze z lëtoscë, abò téż dlôte, żebë nie slëchac ji gôdôniégò, przepùszczëlë ją do przódkù. - Widzysz të, żebë nie jô, më bë tu stalë do wieczora. Tak jak je napisóné w swiãtim pismiónie: \"Gôdôjce a bdze wama dóné\" – bùszno rzekla do chlopa, pòdzérajac przez dzurkã òd klucza cëż bënë je lós. Wtim òtemklë sã dwiérze zeza chtërnëch dôl sã czëc glos: - Proszã wchadac!",
	"Tekla weszla bënë ë stanãla przed bioenergòterapeuta. Nen nick nie gôdając zacząl jeżdżëc pajama po ji cele. Zbadôl brzëch, nodżi, piersë, szëja ë glowã. Na kùńcu strząsl rãce ë rzekl: - Wë bialkò môce dwa jiwrë. Pierszi to je klopòt ze szpérama, a drëdżi z gardlã. - Marija Józef jo! To pewno je rek! – zawrzeszcza Tekla - Nié, nié. Jô chcôl rzec, że wë za wiele chòdzyce ë za wiele gôdôce. Trza mni chòdzëc ë mni gadac a te wszëtkò bdze fejn. - Ne cëż wë gôdôce! Jô doch za wiele nie gôdajã ë nie lażã. Ne móże czasã jo. Le nié za wiele – Tekla zaczãla znachòrowi gadac ò tim a tamtim. Znachór jakbë ji nie slëchôl le rzekl jesz rôz to samò ë krziknąl: - Nôstăpnô proszã!",
	"Doma chlop spëtôl sã Teklë, cëż ji bëlo, ë czë je ùzdrowionô. Bialka blós rzekla, że nen znachór to jaczisz hùleszpédżel, co sã na niczim nie znaje. Le òd tegò czasë Tekla jakbë sã zmienila. Mni ją bëlo widzec we wsë. Mni też pludrów bëlo czëc. Gwësno nen bioenergòterapeuta bëlno wëcknąl na co òna je chòrô.",
	"Lëdze wiele gôdają. Prawie ò ksãdzach lubia rozpòwiadac. Ne kò cëz, ksądz téż czlowiek. Jak kóżdi mô swòje féle. Le żebë zarô robic z tegò wiôldżé haló! Ne jo, le tak ju je na tim swiece.Pëlckòwsczi parafije slużyl òd wiela lat ksądz Zielka. Bél baro mądri ë ùczinny. Jak chto co brëkowôl te szedl prosto do probòszcza, chtëren wszëtczim chãtno pòmôgôl. Za òdprawienié mszë, czë ùdzelenié szlubù nigdë za wiele dëtków nie brôl. Na pitanié mlodëch, chtërny chcelë sã pòbrac, kùli bë ksadz wząl za szlub, òdpòwiôdôl: - Ne cëż, co łaska, le tak mni jak dwasta zlotëch nie dôwają.",
	"Ksądz, choc bél baro mądrim czlowieka, miôl jedną félã. Baro lubil grac w kôrtë. Òsoblëwie w szkata abò baszkã. Le co to za granié dlô graniégò? Tak téz ksądz rżnąl w kôrtë na pieniãdze. A, że bél w tim baro dobri wiedno wëgriwôl. Jaż doszlo do tego, że nicht we wsë nie chcôl z ksadzã grac. Ani òrganista, ani kòscelny, ani téz niżóden chlop z parafije. Ne bò cëż to je za granié, jak z górë je wiedzec chto dobądze.",
	"Jednégò dnia na plebaniã przëszlë jaczis mlodi bówcë, ë zabédowelë ksãdzowi Zielce szpelã w kôrtë. Mielë grac w pòkra. Probòszczka nôsómprzód bél baro temù niechãtny, bò nëch mlodëch nie znôl. Le kùńc kùńcã pòkùsa bëla takô mòcnô, że sã zgòdzyl, tim barzi, że ju dôwno nie sôdôl do stolë bë so kąsk zagrac. Tak tedë zaczãlë szpelã. Nôprzód ksãdzowi kôrta fejn szla ë dobiwôl. Wëgrôl nawetka dosc tëli dëtka, ë chcôl ju skùnczëc, le mlodi rzeklë: - Ne cëż ksądz! Më sa mùszimë doch terô òdegrac. Chcemë le zagrac ò wszëtkò, co leżi na stole.",
	"Ë zagralë. Tim razã probòszczcë kôrta szla czesto lëchò. Wszëtkò przegrôl. Zjiszczony rzekl: - Wiéta wa co beńlowie, chcema zagrac òstatny rôz. - Jo, móżemë zagrac. Le co ksądz proboszcz mô do pòstawieniô, doch wszëtczé dëtczi przegrôl? - A co mie tam… Stôwiajã swòjé auto!",
	"Mlodi sã na to zgòdzëlë. Sôdlë slédny rôz do stolë. Kôrta szla w ruch. Ë zôs probòszczowi nie szlo. Stracyl auto. - Knôpi wa doch mie nie zabierzece auta? Czim jô bdã terô jezdżyl? – proszël. - Zabierzemë, jak gra to gra! Ksądz przegrôl ë kuńc. - Nie dóm. A terô biéta wa lóntrósë przegrzeszony – pògrożyl jima ë wënekôl z plebanije.",
	"Na drëdżi dzéń ksądz szedl do garażë. Wzérô – auta ni ma. - Diôchlë, gwësno ti lóntrósowie ùkredlë – przekal so pòd nosã. Tak téż po prôwdze bëlo, bò òstawilë lëst, w chtërnym napisalë, że wzãlë co do nich należalo.",
	"W niedzelã, òb sumã, ksądz wlôzl na kôzalnică ë rzekl: - Proszã waji dobri lëdze ò retënk. Ùkredlë mie auto. Jak bë chto co wiedzôl, niech mie rzecze, chto mógl taczé cos zrobic. Wtim spòd chórë òdezwôl sã glos: - Probòszczu! Nie trza bëlo w kôrtë grac! Òd tegò czasë probòszcz ju w kôrtë z cëzyma nie griwôl. Auta ju nie dostôl nazôd, dlôte zrobil w kòscele nôdzwëczajną kòlektă ë kùpil so nowé, jesz lepszé jak przódë.",
	"Z zãbama lëdze maja różne jiwrë. Czemù to nie je tak, że ne strepialé wëpôdają same bez bólë, a w nen plac roscą nowé? Nié, tak letko ni móże bëc. Lëdzy mùszą zãbë bòlec, a czasã nawetk trza wszëtczé wërwac ë dac so wsadzëc w gãbã sztëczny gbis. Tak to je na tim swiece.",
	"W Pëlckòwie lëdze téż mają różne jiwrë z zãbama. Trudze, ti co mieszkô pòd lasã zdarzëlo sã, że grëząc òrzechë ùlómila so ząb. A bëlo to prawie przed Zylwestrã. Truda sedza na stólkù trzimając skażony ząb w pôlcach ë rozpacza: - Jak jô terô wëzdrză, takô szczerbatô. Doch wszëtczé bdą sa ze mie wëszczérzalë. Cëż z tim zrobic?! Jô nie pùdã na żóden bal. - Të sã Trudkò nie jisce – pòcészôl ją chlop. – Jô zarô co wëmëszlã.",
	"- Co të strëchù terô wëmëszlisz? Doch klejã jô negò zăba nie przëklejã? – szkalowa Trudka. - Cëż rzekla? Klejã? To je to – smiéjąc sã rzekl chlop i szedl wek. Pò sztóce przëszedl nazôd niosąc w rãce môlą tubka z klejã. - To sã dô! Wez le szerok gãbã. Jô cë nen ząb przëklejã taczim klejã, co jem gò przëwiózl z Miemców, czedë jô bél na szarwarkù. Òn baro chùtkò schnie, a przi tim trzimie jak szatan.",
	"Ne cëż robic? Truda szerok òtemkla gãbã, a chlop przëkleil ząb do gbisë. - Fardich. Terô trzëmi pësk ôpen, jô cë pòdmùchajã bënë sëszarką, żebë to rëchli wëschlo a mocni trzimalo. Po sztóce Truda zamkla gãbã. - Marija Józef jo! Trzimie – zawrzeszcza z ùcéchë wzérając w szpédżel. Przëklejony ząb trzimôl òb calégò Zylwestra, a jesz dlëżi bò jaż do Jastrów, czedë òdpôdl przë jedzenim bómków. Le te ju nick sã nie da zrobic, bò nen cëdowny klej dôwno bél zbrëkòwóny.",
	"Zdarzëlo sã téż w Pëlckòwie, że Jan ze sënã, jadąc mòtórã, mielë wëpôdk. Òbaji stracëlë przi tim wszëtczé zãbë. Cëż bëlo robic? Në kò jeden a drëdżi mùszôl so sprawic sztëczny gbis. A że dëtków doma nie bëlo za wiele, tatk dôl zrobic blós dlô se. Rozgòrzony tim syn rzekl: - Tatkù, to nie je sprawiedlëwé. Të doch prowadzyl mòtór, ë to przez ce jô móm straconé zãbë. - Të sënie môsz prôwdă, le wiész, że më ni mómë tëli dëtków, żebë cë sprawic nowi gbis. Më mùszimë cos jinégò wëmëszlëc.",
	"Pò sztócë tatk zabédowôl: - Zrobimë tak, jak ny gnieżdżewsczi gbùrzë ze skòrzniama. Chto pierszi reno wstónie, nen wëcygnie gbis ze szklónczi ë bdze z nim chòdzël cali dzén. Syn chãtno sã nó to zgòdzyl, a tatk sã smiôl bò wiedzôl, że jegò syn je zgniéla do renégò wstôwaniô. Pò miesącu syn, chcąc nie chcąc, zacząl wstawac rëchli jak tatk… bò jaczi czlowiek bë wëtrzimôl jedząc dërch gris ë zupë."
);

var startType;
var strToTestType;
var isRunning = false;
var statisticTimeout;
var testWordsCount;
var userName;
var userGroup;

function newTest()
{
	document.getElementById("stopBtn").disabled = true;

	while(userName == null || trim(userName).length == 0) {
		userName = prompt("Pòdôj swòje miono, przezwëskò, pòzwã, ksywkã, login, abò równo co jinégò, co Ce òznôczô.");
	}
	while(userGroup == null || userGroup.length != 1 || !(userGroup in ["1", "I", "3", "III", "4", "IV"])) {
		userGroup = prompt("Pòdôj numer swòji klasë.");
	}

	document.getElementById("userName").innerHTML = userName + ", Naja Szkòła, klasa " + userGroup;
	
	testTextsCount = testTexts.length;
	strToTestType = testTexts[Math.floor((Math.random() * testTextsCount)) % testTextsCount];
	testWordsCount = strToTestType.split(" ").length;
 
	startType = new Date().getTime();
 
	document.getElementById("textToType").value = strToTestType;
	isRunning = false;
	clearTimeout(statisticTimeout);
	document.getElementById("time").innerHTML = "0.000";
	document.getElementById("words").innerHTML = "0/" + testWordsCount;
	document.getElementById("wpm").innerHTML = "0.000";
	document.getElementById("errors").innerHTML = "0";
	document.getElementById("epw").innerHTML = "0.000";
	document.getElementById("typedText").value = "";

	document.getElementById("startBtn").disabled = false;
}

function startTest() {
	if(!isRunning) {
		caclucateStatistic();
		isRunning = true;
		document.getElementById("startBtn").disabled = true;
		document.getElementById("stopBtn").disabled = false;
	}
}

function caclucateStatistic()
{
	statisticTimeout=setTimeout('caclucateStatistic();', 250); 
	var now = new Date().getTime();
	document.getElementById("time").innerHTML = ((now - startType) / 1000);
	
	var words = trim(document.getElementById("typedText").value).split(" ");
	var wordsCount = words.length;
	document.getElementById("words").innerHTML = wordsCount + "/"+ testWordsCount;
	document.getElementById("wpm").innerHTML = Math.round(1000 * wordsCount / ((now - startType) / 60000)) / 1000;
	
	var testWords = strToTestType.split(" ");
	var errorCount = 0;
	for(var i=0; i<words.length && i<testWords.length; i++ ) {
		for(var j=0; j<words[i].length && j<testWords[i].length; j++ ) {
			if(words[i].charAt(j) != testWords[i].charAt(j)) {
				errorCount++;
			}
		}
		errorCount+= Math.abs(words[i].length - testWords[i].length)
	}

	if(words.length > testWords.length) {
		for(var i=testWords.length; i<words.length; i++) {
			errorCount += words[i].length;
		}
	}
	if(words.length < testWords.length) {
		for(var i=words.length; i<testWords.length; i++) {
			errorCount += testWords[i].length;
		}
	}
	
	document.getElementById("errors").innerHTML = errorCount;
	document.getElementById("epw").innerHTML = Math.round(1000 * errorCount / wordsCount) / 1000;
}

function trim(str, chars) {
	return ltrim(rtrim(str, chars), chars);
}
 
function ltrim(str, chars) {
	chars = chars || "\\s";
	return str.replace(new RegExp("^[" + chars + "]+", "g"), "");
}
 
function rtrim(str, chars) {
	chars = chars || "\\s";
	return str.replace(new RegExp("[" + chars + "]+$", "g"), "");
}

function stopTest() {
	clearTimeout(statisticTimeout);
	isRunning = false;
	document.getElementById("stopBtn").disabled = true;
	
	document.getElementById("startBtn").disabled = false;
}
</script>
</head>
<body onload="javascript:newTest();">
<table style="width:100%;">
<tr>
<td><input id="startBtn" type="button" value="Nowi tekst" onclick="javascript:newTest();" /></td>
<td style="width:100%;text-align:right;"><b><i><span id="userName"></span></i></b></td>
</table>
<table class="table">
<tr><th class="table">Czas [sek.]</th><th class="table">Słowów</th><th class="table">Słowów na min.</th><th class="table">Felów</th><th class="table">Felów na słowò</th></tr>
<tr><td class="table"><span id="time">0.000<span></td><td class="table"><span id="words">0/0<span></td><td class="table"><span id="wpm">0.000<span></td><td class="table"><span id="errors">0<span></td><td class="table"><span id="epw">0.000<span></td></tr>
</table>
<textarea id="textToType" rows="7" style="width:100%;background-color:white;color:black;" readonly="true" disabled="true" onclick="return false;"></textarea>
<textarea id="typedText" rows="7" style="width:100%;" onkeydown="javascript:startTest();"></textarea>
<input id="stopBtn" type="button" value="Kùńc" onclick="javascript:stopTest();" />
<hr/>
<div id="results">
</div>
</body>
</html>
